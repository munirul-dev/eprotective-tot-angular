<div class="session-container">
  <h2>{{ title }}</h2>

  <!-- Login View -->
  <div class="card auth-card" *ngIf="!currentUser">
    <div class="card-header">
      <h3>Login to Dashboard</h3>
      <p class="subtitle">Please sign in to continue</p>
    </div>

    <div class="card-body">
      <form (ngSubmit)="login()">
        <div class="form-group">
          <label for="email">Email Address</label>
          <input type="email" id="email" [(ngModel)]="loginData.email" name="email" class="form-control" placeholder="Enter your email" required>
        </div>

        <div class="form-group">
          <label for="password">Password</label>
          <input type="password" id="password" [(ngModel)]="loginData.password" name="password" class="form-control" placeholder="Enter your password" required>
        </div>

        <div class="alert alert-error" *ngIf="errorMessage">
          {{ errorMessage }}
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary" [disabled]="isLoading">
            <span *ngIf="!isLoading">Sign In</span>
            <span *ngIf="isLoading">Verifying...</span>
          </button>
        </div>

        <div class="hint">
          <small>Hint: user&#64;demo.com / 123456</small>
        </div>
      </form>
    </div>
  </div>

  <!-- Protected View (Dashboard) -->
  <div class="card dashboard-card" *ngIf="currentUser">
    <div class="dashboard-header">
      <div class="user-info">
        <h3>Welcome back, {{ currentUser.name }}!</h3>
        <span class="badge badge-success">{{ currentUser.role }}</span>
      </div>
      <button class="btn btn-outline" (click)="logout()">Sign Out</button>
    </div>

    <div class="dashboard-content">
      <div class="stat-grid">
        <div class="stat-item">
          <label>Status</label>
          <span class="value active">Active</span>
        </div>
        <div class="stat-item">
          <label>Last Login</label>
          <span class="value">{{ currentUser.lastLogin | date:'medium' }}</span>
        </div>
        <div class="stat-item">
          <label>Email</label>
          <span class="value">{{ currentUser.email }}</span>
        </div>
      </div>

      <div class="secure-area">
        <h4>ðŸ”’ Protected Content</h4>
        <p>This content is only visible to authenticated users. Unlike client-side hiding, real security requires server-side validation.</p>
        <div class="code-preview">
          <code>Authorization: Bearer eyJhbGciOiJIUzI1NiIsIn...</code>
        </div>
      </div>
    </div>
  </div>
</div>
